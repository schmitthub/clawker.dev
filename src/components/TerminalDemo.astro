---
---

<section class="terminal-section">
	<div class="container">
		<div class="terminal">
			<div class="terminal-header">
				<div class="terminal-dots">
					<span class="dot dot-red"></span>
					<span class="dot dot-yellow"></span>
					<span class="dot dot-green"></span>
				</div>
				<span class="terminal-title">terminal</span>
				<div class="terminal-spacer"></div>
			</div>

			<div class="terminal-tabs">
				<button class="tab active" data-tab="brew">Homebrew</button>
				<button class="tab" data-tab="script">Script</button>
			</div>

			<div class="terminal-body">
				<div class="tab-content active" id="tab-brew">
					<div class="command-line">
						<span class="prompt">$</span>
						<code>brew install schmitthub/tap/clawker</code>
						<button class="copy-btn" data-cmd="brew install schmitthub/tap/clawker" aria-label="Copy command">
							<svg class="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
								<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
							</svg>
							<svg class="icon-check" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<polyline points="20 6 9 17 4 12"></polyline>
							</svg>
						</button>
					</div>
				</div>

				<div class="tab-content" id="tab-script">
					<div class="command-line">
						<span class="prompt">$</span>
						<code>curl -fsSL https://clawker.dev/install.sh | bash</code>
						<button class="copy-btn" data-cmd="curl -fsSL https://clawker.dev/install.sh | bash" aria-label="Copy command">
							<svg class="icon-copy" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
								<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
							</svg>
							<svg class="icon-check" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<polyline points="20 6 9 17 4 12"></polyline>
							</svg>
						</button>
					</div>
				</div>

				<div class="typing-demo">
					<div class="typing-line line-1">
						<span class="prompt">$</span>
						<span class="typed">clawker run -it --agent fix --worktree bugfix:main @</span>
					</div>
					<div class="typing-line line-2">
						<span class="comment"># Forwarding SSH keys + git config</span>
					</div>
					<div class="typing-line line-3">
						<span class="comment"># Firewall: github.com, npmjs.org</span>
					</div>
					<div class="typing-line line-4">
						<span class="success">&#10003;</span>
						<span class="typed-result">clawker.myapp.fix ready</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<style>
	.terminal-section {
		padding: 2rem 0 5rem;
		animation: fadeInUp 0.8s ease-out 0.2s both;
	}

	.terminal {
		max-width: 640px;
		margin: 0 auto;
		border-radius: 12px;
		border: 1px solid var(--border-subtle);
		background: var(--bg-elevated);
		overflow: hidden;
		box-shadow: 0 24px 48px rgba(0, 0, 0, 0.4);
	}

	.terminal-header {
		display: flex;
		align-items: center;
		padding: 0.75rem 1rem;
		background: var(--bg-surface);
		border-bottom: 1px solid var(--border-subtle);
	}

	.terminal-dots {
		display: flex;
		gap: 6px;
	}

	.dot {
		width: 12px;
		height: 12px;
		border-radius: 50%;
	}
	.dot-red { background: #ef4444; }
	.dot-yellow { background: #eab308; }
	.dot-green { background: #22c55e; }

	.terminal-title {
		flex: 1;
		text-align: center;
		font-size: 0.8rem;
		color: var(--text-muted);
		font-family: var(--font-mono);
	}

	.terminal-spacer {
		width: 54px;
	}

	.terminal-tabs {
		display: flex;
		border-bottom: 1px solid var(--border-subtle);
	}

	.tab {
		flex: 1;
		padding: 0.6rem 1rem;
		font-size: 0.85rem;
		font-family: var(--font-mono);
		color: var(--text-muted);
		border-bottom: 2px solid transparent;
		transition: all 0.2s;
	}
	.tab:hover {
		color: var(--text-secondary);
	}
	.tab.active {
		color: var(--accent-bright);
		border-bottom-color: var(--accent-bright);
	}

	.terminal-body {
		padding: 1.25rem;
		font-family: var(--font-mono);
		font-size: 0.9rem;
	}

	.tab-content {
		display: none;
	}
	.tab-content.active {
		display: block;
	}

	.command-line {
		display: flex;
		align-items: center;
		gap: 0.6rem;
	}

	.prompt {
		color: var(--cyan-bright);
		font-weight: 700;
		flex-shrink: 0;
	}

	.command-line code {
		flex: 1;
		color: var(--text-primary);
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	.copy-btn {
		flex-shrink: 0;
		padding: 4px;
		color: var(--text-muted);
		transition: color 0.2s;
		position: relative;
	}
	.copy-btn:hover {
		color: var(--text-primary);
	}
	.copy-btn .icon-check {
		display: none;
		color: #22c55e;
	}
	.copy-btn.copied .icon-copy {
		display: none;
	}
	.copy-btn.copied .icon-check {
		display: block;
	}

	/* Typing animation */
	.typing-demo {
		margin-top: 1.5rem;
		padding-top: 1.25rem;
		border-top: 1px solid var(--border-subtle);
	}

	.typing-line {
		display: flex;
		gap: 0.6rem;
		line-height: 1.8;
		overflow: hidden;
		white-space: nowrap;
	}

	.comment {
		color: var(--text-muted);
	}

	.success {
		color: #22c55e;
		flex-shrink: 0;
	}

	.typed-result {
		color: var(--text-secondary);
	}

	/* Typing steps animation */
	.typed,
	.comment,
	.typed-result {
		display: inline-block;
		overflow: hidden;
		width: 0;
		animation: typeIn 0.6s steps(30) forwards;
	}

	.line-1 .typed { animation-delay: 0.5s; width: 0; }
	.line-2 .comment { animation-delay: 1.5s; width: 0; }
	.line-3 .comment { animation-delay: 2.5s; width: 0; }
	.line-4 .success { opacity: 0; animation: fadeIn 0.3s 3.5s forwards; }
	.line-4 .typed-result { animation-delay: 3.5s; width: 0; }

	@keyframes typeIn {
		to { width: 100%; }
	}

	@keyframes fadeIn {
		to { opacity: 1; }
	}

	/* Blinking cursor on last line */
	.line-1 .typed::after {
		content: '';
		display: inline-block;
		width: 8px;
		height: 1.1em;
		background: var(--accent-bright);
		margin-left: 2px;
		vertical-align: text-bottom;
		animation: blink 0.8s step-end infinite, hideCursor 0s 1.1s forwards;
	}

	@keyframes blink {
		50% { opacity: 0; }
	}
	@keyframes hideCursor {
		to { display: none; width: 0; background: transparent; }
	}
</style>

<script>
	document.querySelectorAll('.terminal-tabs').forEach((tabBar) => {
		const terminal = tabBar.closest('.terminal')!;
		tabBar.querySelectorAll('.tab').forEach((tab) => {
			tab.addEventListener('click', () => {
				tabBar.querySelector('.tab.active')?.classList.remove('active');
				tab.classList.add('active');
				const target = (tab as HTMLElement).dataset.tab;
				terminal.querySelectorAll('.tab-content').forEach((content) => {
					content.classList.toggle('active', content.id === `tab-${target}`);
				});
			});
		});
	});

	document.querySelectorAll('.copy-btn').forEach((btn) => {
		btn.addEventListener('click', () => {
			const cmd = (btn as HTMLElement).dataset.cmd;
			if (cmd) {
				navigator.clipboard.writeText(cmd).then(() => {
					btn.classList.add('copied');
					setTimeout(() => btn.classList.remove('copied'), 2000);
				});
			}
		});
	});
</script>
